<dataConfig>
  <dataSource driver="org.postgresql.Driver"
              url="jdbc:postgresql:egrin2"
              user="dj_ango" password="django" />
  <document name="genes">
    <entity name="gene" query="select g.id, g.species_id, g.accession, g.gi, g.start, g.stop, g.strand, g.sys_name, g.name, g.description, g.chromosome_id from egrin2_django_gene g">
      <entity name="species" transformer="TemplateTransformer"
              query="select s.name, s.short_name from egrin2_django_species s where s.id = ${gene.species_id}">
      </entity>
      <entity name="network" transformer="TemplateTransformer"
              query="select n.name, n.version_id from egrin2_django_network n join egrin2_django_species s on n.species_id = s.id where s.id = ${gene.species_id}">
      </entity>
      <!--
          At the moment, there is only authors as a multivalued
          nested attribute
      -->
     <!--
      <entity name="biclusters" transformer="TemplateTransformer"
              query="select a.last_name, a.first_name from stories_authors sa join authors a on sa.author_id = a.id where sa.story_id = ${story.id}">
        <field column="author" template="${author.last_name}, ${author.first_name}" />
      </entity>
      -->
    </entity>
  </document>
</dataConfig>
